<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>ResNet</title>
      <link href="/2021/11/17/resnet/"/>
      <url>/2021/11/17/resnet/</url>
      
        <content type="html"><![CDATA[<p><img src="/images/resnet/cover.jpg" alt="$cover"></p><h1 id="Residual-Network"><a href="#Residual-Network" class="headerlink" title="Residual Network"></a>Residual Network</h1><p>æ·±å±‚çš„ç¥ç»ç½‘ç»œé€šå¸¸å¾ˆéš¾è¿›è¡Œè®­ç»ƒï¼Œæœ¬æ–‡ä½¿ç”¨äº†ä¸€ä¸ªæ®‹å·®å­¦ä¹ ç½‘ç»œç»“æ„æ¥è®­ç»ƒæ¯”ä»¥å¾€çš„ç¥ç»ç½‘ç»œè¦æ·±å¾—å¤šçš„æ¨¡å‹ã€‚æ®‹å·®ç½‘ç»œå®¹æ˜“è®­ç»ƒï¼Œå¹¶ä¸”åœ¨æ·±å±‚ç¥ç»ç½‘ç»œä¸­è¡¨ç°å‡ºæ¥è¾ƒå¥½çš„å‡†ç¡®ç‡ã€‚</p><p><img src="/images/resnet/plain_error.png" alt="plain_error"><br>åœ¨æœªä½¿ç”¨æ®‹å·®ç½‘ç»œçš„æ¨¡å‹ä¸­ï¼Œå½“ç½‘ç»œå±‚æ•°å˜å¤šæ—¶ï¼Œè®­ç»ƒè¯¯å·®ä»¥åŠæµ‹è¯•è¯¯å·®å‡ä¼šå‡é«˜ã€‚</p><h2 id="Is-learning-better-networks-as-easy-as-stacking-more-layers"><a href="#Is-learning-better-networks-as-easy-as-stacking-more-layers" class="headerlink" title="Is learning better networks as easy as stacking more layers ?"></a><strong>Is learning better networks as easy as stacking more layers ?</strong></h2><ul><li>å½“ç½‘ç»œå˜å¾—ç‰¹åˆ«æ·±æ—¶ï¼Œä¼šå‡ºç°æ¢¯åº¦çˆ†ç‚¸æˆ–æ¢¯åº¦æ¶ˆå¤±</li><li>ä¼ ç»Ÿçš„è§£å†³æ–¹æ³•æ˜¯ï¼šå‚æ•°åœ¨åˆå§‹åŒ–æ—¶è¦åšçš„å¥½ä¸€ç‚¹ï¼Œä¸è¦å¤ªå¤§ä¹Ÿä¸è¦å¤ªå°ï¼›åŠ å…¥ä¸€äº›Batch Normalization Layers</li><li>ä¼ ç»Ÿçš„è§£å†³æ–¹æ³•ä½¿å¾—ç¥ç»ç½‘ç»œèƒ½å¤Ÿæ”¶æ•›ï¼Œä½†æ˜¯ç½‘ç»œçš„ç²¾åº¦å´å˜å¾—æ›´å·®ï¼Œè€Œè¿™å¹¶éæ˜¯æ¨¡å‹å˜å¾—å¤æ‚åå¯¼è‡´çš„è¿‡æ‹Ÿåˆé—®é¢˜ï¼Œå› ä¸ºæ¨¡å‹çš„è®­ç»ƒè¯¯å·®ä¹Ÿå˜é«˜äº†</li><li>æ­£å¸¸æ¥è¯´ï¼Œå¦‚æœåœ¨ä¸€ä¸ªæµ…å±‚çš„ç¥ç»ç½‘ç»œåç›´æ¥åŠ å…¥æ›´å¤šçš„å±‚ï¼Œè¿™äº›å±‚åªåšidentity mappingï¼Œé‚£ä¹ˆè¿™ä¸ªæ·±å±‚ç¥ç»ç½‘ç»œçš„è¯¯å·®ç»ä¸ä¼šé«˜äºæµ…å±‚çš„ç¥ç»ç½‘ç»œï¼Œä½†æ˜¯ä¼ ç»Ÿçš„ç¥ç»ç½‘ç»œæ¨¡å‹å¹¶æœªæ‰¾åˆ°è¿™æ ·çš„è§£ï¼ˆæˆ–æ›´å¥½çš„è§£ï¼‰</li><li>å¦‚æœæ·±å±‚ç½‘ç»œåé¢çš„å±‚éƒ½æ˜¯æ˜¯æ’ç­‰æ˜ å°„ï¼Œé‚£ä¹ˆæ¨¡å‹å°±å¯ä»¥è½¬åŒ–ä¸ºä¸€ä¸ªæµ…å±‚ç½‘ç»œ</li></ul><h2 id="Deep-residual-learning-framework"><a href="#Deep-residual-learning-framework" class="headerlink" title="Deep residual learning framework"></a><strong>Deep residual learning framework</strong></h2><ul><li>å°†æ®‹å·®å—çš„è¾“å…¥ä¸å—å†…æœ€åä¸€ä¸ªç¥ç»ç½‘ç»œå±‚çš„çº¿æ€§è¾“å‡ºæ±‚å’Œååœ¨è¿›è¡Œæ¿€æ´»ï¼Œå¾—åˆ°æ®‹å·®å—çš„è¾“å‡º<br><img src="/images/resnet/residual_block.png" alt="plain_error"></li><li>æ®‹å·®å—åªç®€å•åœ°åšäº†shortcut connectionsï¼Œæ²¡æœ‰å¼•å…¥é¢å¤–çš„è®­ç»ƒå‚æ•°ï¼Œä¸ä¼šå¢åŠ ç½‘ç»œå¤æ‚åº¦</li><li>å·²æœ‰çš„ç¥ç»ç½‘ç»œå¾ˆéš¾æ‹Ÿåˆæ½œåœ¨çš„æ’ç­‰æ˜ å°„å‡½æ•°H(x) = xï¼Œä½†æ˜¯ResNetå°†æ®‹å·®å—è®¾è®¡ä¸ºH(x) = F(x) + xï¼Œå…¶ç›´æ¥æŠŠæ’ç­‰æ˜ å°„ä½œä¸ºç½‘ç»œçš„ä¸€éƒ¨åˆ†ï¼Œåªè¦F(x) = 0ï¼Œä¾¿å¾—åˆ°äº†æ’ç­‰æ˜ å°„ã€‚è€Œæ­¤æ—¶F(x) = H(x) - x ç§°ä¸ºæ®‹å·®å‡½æ•°ï¼Œå°±æ˜¯å½“å‰æ®‹å·®å—çš„å­¦ä¹ ç›®æ ‡ï¼ˆå­¦ä¹ å‡ºè¿™æ ·ä¸€ä¸ªF(x)å‡½æ•°æ»¡è¶³å¦‚å›¾è¾“å‡ºï¼‰</li><li>å€¼å¾—ä¸€æçš„æ˜¯ï¼Œä¸€ä¸ªæ®‹å·®å—ä¸­åº”è¯¥è‡³å°‘æœ‰ä¸¤å±‚ï¼ˆä¸­é—´è¦åŒ…å«ä¸€ä¸ªéçº¿æ€§æ¿€æ´»ï¼‰ï¼Œå¦åˆ™å°±ä¼šå‡ºç°å¦‚ä¸‹æƒ…å†µï¼Œè¿™æ˜¾ç„¶æ˜¯æ²¡æœ‰ç”¨çš„å·¥ä½œ<br><img src="/images/resnet/no_use.png" alt="plain_error"></li></ul><h2 id="Deeper-bottleneck-architecture"><a href="#Deeper-bottleneck-architecture" class="headerlink" title="Deeper bottleneck architecture"></a><strong>Deeper bottleneck architecture</strong></h2><ul><li>å½“ç¥ç»ç½‘ç»œå±‚æ•°è¿›ä¸€æ­¥å¢å¤šæ—¶ï¼Œå‚æ•°çš„å¢é•¿ä¼šå¸¦æ¥å¾ˆå¤§çš„è®¡ç®—å¼€é”€ã€‚æ­¤æ—¶å¯ä»¥è€ƒè™‘ä½¿ç”¨1*1çš„å·ç§¯æ ¸æš‚æ—¶å‡å°‘é€šé“æ•°æ¥å‡å°‘æ•´ä¸ªç½‘ç»œçš„æ•°æ®è§„æ¨¡<br><img src="/images/resnet/deeper.png" alt="plain_error"></li></ul><h2 id="Analysis-of-Deep-Residual-Networks"><a href="#Analysis-of-Deep-Residual-Networks" class="headerlink" title="Analysis of Deep Residual Networks"></a><strong>Analysis of Deep Residual Networks</strong></h2><ul><li>æ®‹å·®å—çš„åå‘ä¼ æ’­è¿‡ç¨‹è¾ƒå¥½åœ°è§£é‡Šäº†æ®‹å·®ç½‘ç»œé¿å…æ¢¯åº¦æ¶ˆå¤±åŸå› ï¼Œå…·ä½“æ¨å¯¼è¿‡ç¨‹å¦‚ä¸‹</li><li>æ¨å¯¼ä¸­å¿½ç•¥åç½®é¡¹å’Œæ¿€æ´»å‡½æ•°<br><img src="/images/resnet/res_bp.png" alt="plain_error"></li></ul>]]></content>
      
      
      <categories>
          
          <category> Machine Learning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Neural Network </tag>
            
            <tag> Residual learning </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C# Asynchronous programming #3</title>
      <link href="/2021/11/12/CSAsync3/"/>
      <url>/2021/11/12/CSAsync3/</url>
      
        <content type="html"><![CDATA[<p><img src="/images/CSAsynchronousProgramming/cover.png" alt="$cover"></p><h1 id="C-Asynchronous-programming-3"><a href="#C-Asynchronous-programming-3" class="headerlink" title="C# Asynchronous programming #3"></a>C# Asynchronous programming #3</h1><h2 id="Thread"><a href="#Thread" class="headerlink" title="Thread"></a><strong>Thread</strong></h2><h3 id="Use-Thread-in-Applications"><a href="#Use-Thread-in-Applications" class="headerlink" title="Use Thread in Applications"></a><strong>Use Thread in Applications</strong></h3><ul><li>åœ¨å¸¦ç•Œé¢çš„WPFã€UWPã€WinFormç­‰ç¨‹åºç§ï¼Œè‹¥ä¸»çº¿ç¨‹æ‰§è¡Œè€—æ—¶çš„æ“ä½œï¼Œå°±ä¼šå¯¼è‡´æ•´ä¸ªç¨‹åºæ— å“åº”ã€‚å› ä¸ºä¸»çº¿ç¨‹åŒæ—¶è¿˜è¦å¤„ç†æ¶ˆæ¯å¾ªç¯ï¼Œè€Œæ¸²æŸ“å’Œé¼ æ ‡é”®ç›˜äº‹ä»¶å¤„ç†ç­‰å·¥ä½œéƒ½æ˜¯åœ¨æ¶ˆæ¯å¾ªç¯ä¸­æ‰§è¡Œçš„</li><li>é’ˆå¯¹è¿™ç§è€—æ—¶çš„æ“ä½œï¼Œä¸€ç§æµè¡Œçš„åšæ³•ä½¿å¯ç”¨ä¸€ä¸ªworkerçº¿ç¨‹ï¼Œæ‰§è¡Œå®Œæ“ä½œåå†æ›´æ–°åˆ°UI</li><li>å¯Œå®¢æˆ·ç«¯åº”ç”¨çš„çº¿ç¨‹æ¨¡å‹é€šå¸¸æ˜¯ï¼š<ul><li>UIæ§ä»¶åªèƒ½ä»åˆ›å»ºä»–ä»¬çš„çº¿ç¨‹æ¥è¿›è¡Œè®¿é—®ï¼ˆé€šå¸¸æ˜¯ä¸»çº¿ç¨‹ï¼‰</li><li>å½“æƒ³ä»workerçº¿ç¨‹æ›´æ–°UIæ—¶ï¼Œåº”è¯¥æŠŠè¯·æ±‚äº¤ç»™UIçº¿ç¨‹</li></ul></li></ul><h3 id="Synchronization-Contexts"><a href="#Synchronization-Contexts" class="headerlink" title="Synchronization Contexts"></a><strong>Synchronization Contexts</strong></h3><ul><li>åœ¨System.ComponentModelä¸‹æœ‰ä¸€ä¸ªæŠ½è±¡ç±»ï¼šSynchronizationContextï¼Œå®ƒä½¿å¾—Thread Marshalingå¾—åˆ°æ³›åŒ–<ul><li>Thread Marshalingï¼šæŠŠä¸€äº›æ•°æ®çš„æ‰€æœ‰æƒä»ä¸€ä¸ªçº¿ç¨‹äº¤ç»™äº†å¦ä¸€ä¸ªçº¿ç¨‹</li></ul></li></ul><h3 id="Thread-Pool"><a href="#Thread-Pool" class="headerlink" title="Thread Pool"></a><strong>Thread Pool</strong></h3><ul><li><p>å½“å¼€å§‹ä¸€ä¸ªçº¿ç¨‹æ—¶ï¼Œå°†èŠ±è´¹æ•°ç™¾å¾®ç§’æ¥ç»„ç»‡ä¸€äº›å†…å®¹ï¼ˆå¦‚ä¸€ä¸ªæ–°çš„å±€éƒ¨å˜é‡æ ˆï¼‰ï¼Œäº§ç”Ÿäº†å¼€é”€</p></li><li><p>çº¿ç¨‹æ± å¯ä»¥èŠ‚çœè¿™äº›å¼€é”€ï¼š</p><ul><li>é¢„å…ˆåˆ›å»ºä¸€ä¸ªå¯å¾ªç¯ä½¿ç”¨çš„çº¿ç¨‹çš„æ± æ¥å‡å°‘åˆ›å»ºæ–°çº¿ç¨‹çš„å¼€é”€</li></ul></li><li><p>çº¿ç¨‹æ± å¯¹äºæç¬‘çš„å¹¶è¡Œç¼–ç¨‹å’Œç»†ç²’åº¦çš„å¹¶å‘æ˜¯å¿…ä¸å¯å°‘çš„</p></li><li><p>å…³äºc#ä¸­çš„çº¿ç¨‹æ± éœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š</p><ul><li>ä¸å¯ä»¥è®¾ç½®æ± çº¿ç¨‹çš„<code>Name</code></li><li>æ± çº¿ç¨‹éƒ½æ˜¯åå°çº¿ç¨‹</li><li>é˜»å¡æ± çº¿ç¨‹å¯èƒ½ä½¿æ€§èƒ½é™ä½</li><li>æ± çº¿ç¨‹ä¼˜å…ˆçº§å¯ä»¥è¢«è‡ªç”±çš„æ›´æ”¹ï¼Œå½“å®ƒè¢«é‡Šæ”¾å›æ± çš„æ—¶å€™ä¼˜å…ˆçº§å°†è¢«è¿˜åŸä¸ºæ­£å¸¸çŠ¶æ€</li><li>å¯ä»¥é€šè¿‡<code>IsThreadPoolThread</code>å±æ€§æ¥åˆ¤æ–­æ˜¯å¦ä¸ºæ± çº¿ç¨‹</li><li><code>Task</code>ä¹Ÿä½¿ç”¨çº¿ç¨‹æ± </li></ul></li><li><p>çº¿ç¨‹æ± ä¸­çš„æ•´æ´</p><ul><li>çº¿ç¨‹æ± æä¾›äº†å¦ä¸€ä¸ªåŠŸèƒ½ï¼Œå³ç¡®ä¿ä¸ä¼šäº§ç”ŸCPUè¶…é¢è®¢é˜…ï¼ˆæ´»è·ƒçš„çº¿ç¨‹æ•°è¶…è¿‡CPUæ ¸æ•°ï¼‰ï¼Œè¶…é¢è®¢é˜…å¯¹æ€§èƒ½å½±å“å¾ˆå¤§</li><li>CLRé€šè¿‡å¯¹ä»»åŠ¡æ’é˜Ÿå¹¶å¯¹å…¶å¯åŠ¨è¿›è¡ŒèŠ‚æµé™åˆ¶æ¥é¿å…çº¿ç¨‹æ± ä¸­çš„è¶…é¢è®¢é˜…</li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> C# </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C# Threading </tag>
            
            <tag> Asynchronous programming </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C# Asynchronous programming #2</title>
      <link href="/2021/11/11/CSAsync2/"/>
      <url>/2021/11/11/CSAsync2/</url>
      
        <content type="html"><![CDATA[<p><img src="/images/CSAsynchronousProgramming/cover.png" alt="$cover"></p><h1 id="C-Asynchronous-programming-2"><a href="#C-Asynchronous-programming-2" class="headerlink" title="C# Asynchronous programming #2"></a>C# Asynchronous programming #2</h1><h2 id="Thread"><a href="#Thread" class="headerlink" title="Thread"></a><strong>Thread</strong></h2><h3 id="Thread-Safety"><a href="#Thread-Safety" class="headerlink" title="Thread Safety"></a><strong>Thread Safety</strong></h3><ul><li>æœ¬åœ°çŠ¶æ€ä¸å…±äº«çŠ¶æ€<ul><li>Local æœ¬åœ°ç‹¬ç«‹ï¼šCLRä¸ºæ¯ä¸ªçº¿ç¨‹åˆ†é…è‡ªå·±çš„å†…å­˜æ ˆï¼Œä»¥ä¾¿ä½¿æœ¬åœ°å˜é‡ä¿æŒç‹¬ç«‹</li><li>Shared å…±äº«ï¼šå¦‚æœå¤šä¸ªçº¿ç¨‹å¼•ç”¨åˆ°äº†åŒä¸€ä¸ªå¯¹è±¡å®ä¾‹ï¼Œé‚£ä¹ˆä»–ä»¬å°±å…±äº«äº†æ•°æ®ï¼›è¢«Lambadè¡¨è¾¾å¼æˆ–åŒ¿åå§”æ‰˜æ•è·çš„æœ¬åœ°å˜é‡ï¼Œä¼šè¢«ç¼–è¯‘å™¨è½¬åŒ–ä¸ºå­—æ®µï¼ˆfieldï¼‰ï¼Œæ‰€ä»¥ä¹Ÿä¼šè¢«å…±äº«ï¼›é™æ€å­—æ®µä¹Ÿä¼šåœ¨çº¿ç¨‹é—´å…±äº«</li></ul></li></ul><pre><code class="c#">class Program{        static void Main(string[] args)    {        /*æœ¬åœ°å˜é‡ä¸å…±äº«*/        //æ‰“å°å…­æ¬¡hello...        Thread thread = new Thread(GO);        thread.Start();        GO();        /*åŒä¸€å®ä¾‹å…±äº«*/        //æ‰“å°ä¸€æ¬¡Doneï¼        ThreadTest test = new ThreadTest();        new Thread(test.Test).Start();        Thread.Sleep(1000);        test.Test();        /*åŒ¿åå§”æ‰˜å…±äº«*/        //æ‰“å°ä¸€æ¬¡Done        bool done = false;        ThreadStart action = () =&gt;            {                if (!done)                {                    //æ­¤å¤„è¿˜æ˜¯ä¼šæœ‰è¾“å‡ºå¤šæ¬¡çš„é£é™©                    done = true;                    System.Console.WriteLine("Done");                }            };        new Thread(action).Start();        Thread.Sleep(new TimeSpan(0, 0, 1));        action.Invoke();        /*é™æ€å­—æ®µå…±äº«*/        //æ‰“å°ä¸€æ¬¡Doneï¼        ThreadTest test1 = new ThreadTest();        ThreadTest test2 = new ThreadTest();        new Thread(test1.AnotherTest).Start();        Thread.Sleep(10);        test2.AnotherTest();    }    static void GO()    {           //cycleæ˜¯æœ¬åœ°å˜é‡ï¼Œå±äºæœ¬åœ°çŠ¶æ€        //åœ¨æ¯ä¸ªçº¿ç¨‹çš„å†…å­˜æ ˆä¸Šï¼Œéƒ½ä¼šåˆ›å»ºcycleçš„ ç‹¬ç«‹å‰¯æœ¬        for (int cycle = 0;  cycle&lt; 3; cycle++)        {            System.Console.WriteLine("hello...");        }    }}class ThreadTest{    private bool _done;    private static bool done;    public void AnotherTest()    {        //æ­¤å¤„è¿˜æ˜¯ä¼šæœ‰è¾“å‡ºå¤šæ¬¡çš„é£é™©        if(!done)        {            System.Console.WriteLine("DONE!");            done = true;        }    }    public void Test()    {        //æ­¤å¤„è¿˜æ˜¯ä¼šæœ‰è¾“å‡ºå¤šæ¬¡çš„é£é™©        if(!_done)        {            System.Console.WriteLine("Done!");            _done = true;        }    }}</code></pre><ul><li>çº¿ç¨‹å®‰å…¨<ul><li>ä¸Šè¿°åæ¶‰åŠçº¿ç¨‹å…±äº«æ•°æ®çš„ä»£ç æ˜¯ç¼ºä¹çº¿ç¨‹å®‰å…¨çš„ï¼Œå…¶å®é™…è¾“å‡ºæ— æ³•ç¡®å®šï¼Œç†è®ºä¸ŠDoneæœ‰å¯èƒ½ä¼šæ‰“å°ä¸¤æ¬¡ï¼Œå› ä¸ºä¸€ä¸ªçº¿ç¨‹å¯èƒ½æ­£åœ¨è¯„ä¼°ifï¼Œè€Œå¦ä¸€ä¸ªè¯­å¥æ²¡æ¥å¾—åŠè°ƒæ•´<code>done</code>ä¸º<code>true</code></li><li>ä¿è¯çº¿ç¨‹å®‰å…¨ï¼šæ¶ˆé™¤ä»£ç æ‰§è¡Œè¿‡ç¨‹ä¸­çš„ä¸ç¡®å®šæ€§<ol><li>å°½å¯èƒ½çš„é¿å…ä½¿ç”¨å…±äº«çŠ¶æ€ä»¥ä¿è¯çº¿ç¨‹å®‰å…¨</li><li>ä½¿ç”¨<code>lock</code>è¯­å¥åŠ é”ï¼Œåœ¨è¯»å–å’Œå†™å…¥å…±äº«æ•°æ®çš„æ—¶å€™ï¼Œé€šè¿‡ä½¿ç”¨äº’æ–¥é”ï¼Œå°±å¯ä»¥ä¿®å¤å‰é¢ä»£ç ä¸­çš„é—®é¢˜ï¼Œå½“ä¸¤ä¸ªçº¿ç¨‹åŒæ—¶ç«äº‰ä¸€ä¸ªé”çš„æ—¶å€™ï¼ˆé”å¯ä»¥åŸºäºä»»ä½•å¼•ç”¨ç±»å‹å¯¹è±¡ï¼‰ï¼Œä¸€ä¸ªçº¿ç¨‹ä¼šç­‰å¾…æˆ–é˜»å¡ï¼Œç›´åˆ°é”é‡æ–°å˜æˆå¯ç”¨çŠ¶æ€</li></ol></li><li>ç„¶è€Œï¼Œlockä¹Ÿå¹¶éçº¿ç¨‹å®‰å…¨çš„é“¶å¼¹ï¼Œlockä¹Ÿä¼šå¼•èµ·ä¸€äº›å…¶ä»–é—®é¢˜ï¼ˆå¦‚æ­»é”ï¼‰</li></ul></li></ul><pre><code class="c#">    class Program    {        static readonly object locker=new object();        static bool done;        static void Main(string[] args)        {            new Thread(GO).Start();            GO();        }        static void GO()        {            // é”è¦åŸºäºå¼•ç”¨ç±»å‹çš„å˜é‡            // çº¿ç¨‹å®‰å…¨            lock(locker)            {                if (!done)                {                    System.Console.WriteLine("Done");                    Thread.Sleep(1000);                    done = true;                }            }        }    }</code></pre><h3 id="Transfer-Parameter"><a href="#Transfer-Parameter" class="headerlink" title="Transfer Parameter"></a><strong>Transfer Parameter</strong></h3><ul><li>å¦‚æœæƒ³å¾€çº¿ç¨‹å¯åŠ¨æ–¹æ³•é‡Œä¼ é€’å‚æ•°ï¼Œæœ€ç®€å•çš„æ–¹å¼å°±æ˜¯ä½¿ç”¨lambdaè¡¨è¾¾å¼ï¼Œåœ¨é‡Œé¢ä½¿ç”¨å‚æ•°è°ƒç”¨æ–¹æ³•</li></ul><pre><code class="c#">class Program    {                static void Main(string[] args)        {            new Thread(() =&gt; { Print("hello world"); }).Start();        }        static void Print(string s)        {            System.Console.WriteLine(s);        }    }</code></pre><ul><li>è¿˜å¯ä»¥ä½¿ç”¨<code>Thread.Start</code>æ–¹æ³•æ¥ä¼ é€’å‚æ•°ï¼Œç±»ä¼¼å§”æ‰˜ä¸­<code>Invoke</code>æ—¶çš„ä¼ å‚<ul><li>Threadçš„é‡è½½æ„é€ å‡½æ•°å¯ä»¥æ¥å—ä¸‹åˆ—ä¸¤ä¸ªå§”æ‰˜ä¹‹ä¸€ä½œä¸ºå‚æ•°ï¼š<ol><li><code>public delegate void ThreadStart();</code></li><li><code>public delegate void ParameterizedThreadStart(object obj);</code></li></ol></li><li>ç¬¬äºŒç§å§”æ‰˜æ¥æ”¶å¸¦å‚æ•°çš„æ–¹æ³•å</li></ul></li></ul><pre><code class="c#">class Program{        static void Main(string[] args)    {        Thread thread = new Thread(Print);        thread.Start("hello world");    }    static void Print(object s)    {        s = s as string;        System.Console.WriteLine(s);    }}</code></pre><ul><li>éœ€è¦æ³¨æ„çš„æ˜¯lambdaè¡¨è¾¾å¼ï¼ˆåŒ¿åå§”æ‰˜ï¼‰ä¼ çš„å‚æ•°ä¼šå½“ä½œå­—æ®µï¼Œå³å°±ç®—ä¼ çš„æ˜¯å€¼ç±»å‹çš„å˜é‡ä¹Ÿä¼šå¾—åˆ°å…¶åœ°å€å¹¶è¢«çº¿ç¨‹å…±äº«ï¼›è€Œç¬¬äºŒç§ä¼ å‚å¼ºåˆ¶è¦æ±‚äº†å¼•ç”¨å˜é‡ï¼Œä¹Ÿä¼šè¢«çº¿ç¨‹å…±äº«</li></ul><pre><code class="c#">class Program{      static void Main(string[] args)    {        // Thread1();        Thread2();    }    // çº¿ç¨‹å…±äº«äº†åŒä¸€ä¸ªå±€éƒ¨å˜é‡i    // ä¼šå‡ºç°é‡å¤çš„æ•°    static void Thread1()    {        for (int i = 0; i &lt; 5; i++)        {            new Thread(() =&gt; { System.Console.WriteLine(i); }).Start();        }    }    // æ¯ä¸ªçº¿ç¨‹è·å¾—ä¸åŒå±€éƒ¨å˜é‡çš„åœ°å€    // ä¸ä¼šå‡ºç°é‡å¤çš„æ•°    static void Thread2()    {        for (int i = 0; i &lt; 5; i++)        {            int temp = i;            new Thread(() =&gt; { System.Console.WriteLine(temp); }).Start();        }    }    }</code></pre><h3 id="Exception"><a href="#Exception" class="headerlink" title="Exception"></a><strong>Exception</strong></h3><ul><li>å¼‚å¸¸å¤„ç†å—ç§çš„çº¿ç¨‹æŠ›å‡ºå¼‚å¸¸æ—¶ï¼Œä¸ä¼šè¢«æ•è·ï¼Œè§£å†³æ–¹æ¡ˆæ˜¯ä¼ å…¥çº¿ç¨‹çš„æ–¹æ³•ä¸­å¤„ç†å¼‚å¸¸</li></ul><pre><code class="c#">class Program{      static void Main(string[] args)    {        // æ­£å¸¸æ•è·        new Thread(Go2).Start();        // æ— æ³•æ•è·        try        {            new Thread(Go1).Start();        }        catch        {            System.Console.WriteLine("Exceptoin!");        }    }       static void Go1()    {        throw new Exception();    }    static void Go2()    {        try        {            throw new Exception();        }        catch        {            System.Console.WriteLine("catch sucessfully");        }    }    }</code></pre><h3 id="Foreground-Threads-and-Background-Threads"><a href="#Foreground-Threads-and-Background-Threads" class="headerlink" title="Foreground Threads and Background Threads"></a><strong>Foreground Threads and Background Threads</strong></h3><ul><li>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰‹åŠ¨åˆ›å»ºçš„çº¿ç¨‹å°±æ˜¯å‰å°çº¿ç¨‹</li><li>åªè¦æœ‰å‰å°çº¿ç¨‹åœ¨è¿è¡Œï¼Œé‚£ä¹ˆåº”ç”¨ç¨‹åºå°±ä¼šä¸€ç›´å¤„äºæ´»åŠ¨çŠ¶æ€<ul><li>åå°çº¿ç¨‹è¿è¡Œä¸ä¼šä¿æŒåº”ç”¨ç¨‹åºçš„æ´»åŠ¨çŠ¶æ€</li><li>ä¸€æ—¦æ‰€æœ‰å‰å°çº¿ç¨‹åœæ­¢ï¼Œåº”ç”¨ç¨‹åºéšå³åœæ­¢ï¼Œåå°çº¿ç¨‹ä¹Ÿä¼šç«‹å³ç»ˆæ­¢</li></ul></li><li>çº¿ç¨‹çš„å‰å°ã€åå°ä¸å®ƒçš„ä¼˜å…ˆçº§æ— å…³</li><li>é€šè¿‡<code>IsBackground</code>å±æ€§åˆ¤æ–­çº¿ç¨‹æ˜¯å¦æ˜¯åå°çº¿ç¨‹</li></ul><pre><code class="c#">class Program{      static void Main(string[] args)    {        Thread thread = new Thread(() =&gt; { Console.WriteLine(Console.ReadLine());});                // å¦‚æœå°†threadè®¾ç½®ä¸ºåå°çº¿ç¨‹ï¼Œå½“ä¸»çº¿ç¨‹ï¼ˆå‰å°çº¿ç¨‹ï¼‰æ‰§è¡Œå®Œä¹‹åç¨‹åºç«‹å³ç»“æŸ        if(args.Length&gt;0)            thread.IsBackground = true;        thread.Start();    }       }</code></pre><ul><li>å¦‚æœåœ¨é€€å‡ºå‰æƒ³è¦ç­‰å¾…åå°çº¿ç¨‹æ‰§è¡Œå®Œæ¯•ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨<code>Join</code></li><li>åº”ç”¨ç¨‹åºæ— æ³•æ­£å¸¸é€€å‡ºçš„ä¸€ä¸ªå¸¸è§åŸå› å°±æ˜¯è¿˜æœ‰æ´»è·ƒçš„å‰å°çº¿ç¨‹</li></ul><h3 id="Priority-of-Threading"><a href="#Priority-of-Threading" class="headerlink" title="Priority of Threading"></a><strong>Priority of Threading</strong></h3><ul><li>çº¿ç¨‹çš„ä¼˜å…ˆçº§ï¼ˆ<code>Thread</code>ä¸­<code>Priority</code>å±æ€§ï¼‰å†³å®šäº†ç›¸å¯¹äºæ“ä½œç³»ç»Ÿä¸­å…¶ä»–æ´»è·ƒçº¿ç¨‹æ‰€å çš„æ‰§è¡Œæ—¶é—´</li><li>ä¼˜å…ˆçº§åˆ’åˆ†ï¼š<ul><li><code>enum ThreadPriority{Lowest,BelowNormal,Normal,AboveNormal,Highest}</code></li></ul></li><li>æå‡çº¿ç¨‹ä¼˜å…ˆçº§ï¼š<ul><li>æå‡çº¿ç¨‹ä¼˜å…ˆçº§æ—¶è¦ç‰¹åˆ«æ³¨æ„ï¼Œå› ä¸ºä»–å¯èƒ½é¥¿æ­»å…¶ä»–çº¿ç¨‹</li><li>å¦‚æœæƒ³è®©æŸçº¿ç¨‹çš„ä¼˜å…ˆçº§æ¯”å…¶ä»–è¿›ç¨‹ä¸­çš„çº¿ç¨‹ä¼˜å…ˆçº§é«˜ï¼Œé‚£ä¹ˆå°±å¿…é¡»æå‡è¿›ç¨‹ä¼˜å…ˆçº§</li></ul></li><li>æ‰‹åŠ¨æå‡è¿›ç¨‹/çº¿ç¨‹ä¼˜å…ˆçº§é€‚ç”¨äºåªåšå°‘é‡å·¥ä½œä¸”éœ€è¦è¾ƒä½å»¶è¿Ÿçš„éUIè¿›ç¨‹</li><li>å¯¹äºéœ€è¦å¤§é‡è®¡ç®—çš„åº”ç”¨ç¨‹åºï¼ˆå°¤å…¶æ˜¯å¸¦UIçš„ï¼‰ï¼Œæ‰‹åŠ¨æå‡è¿›ç¨‹/çº¿ç¨‹ä¼˜å…ˆçº§å¯èƒ½ä¼šä½¿å…¶ä»–è¿›ç¨‹/çº¿ç¨‹é¥¿æ­»ï¼Œä»è€Œé™ä½æ•´ä¸ªè®¡ç®—æœºçš„é€Ÿåº¦</li></ul><h3 id="Signaling"><a href="#Signaling" class="headerlink" title="Signaling"></a><strong>Signaling</strong></h3><ul><li>æŸä¸ªçº¿ç¨‹åœ¨æ”¶åˆ°å…¶ä»–çº¿ç¨‹å‘æ¥é€šçŸ¥ä¹‹å‰ä¸€ç›´å¤„äºç­‰å¾…çŠ¶æ€ï¼Œå‘é€é€šçŸ¥çš„è¿‡ç¨‹å°±ç§°ä¸ºSignalingï¼Œä¸åŒäºä¿¡å·é‡æœºåˆ¶</li><li>æœ€ç®€å•çš„ä¿¡å·ç»“æ„å°±æ˜¯<code>ManualResetEvent</code><ul><li>è°ƒç”¨å…¶ä¸Š<code>WaitOne</code>æ–¹æ³•ä¼šé˜»å¡å½“å‰çº¿ç¨‹ï¼Œç›´åˆ°å¦ä¸€ä¸ªçº¿ç¨‹é€šè¿‡è°ƒç”¨<code>Set</code>æ–¹æ³•å¼€å¯ä¿¡å·</li></ul></li></ul><pre><code class="c#">class Program{     static void Main(string[] args)    {        var signal = new ManualResetEvent(false);        new Thread(() =&gt;        {            System.Console.WriteLine("Waiting for signal...");            // å› ä¸ºåœ¨å®ä¾‹åŒ–æ—¶è®¾ç½®äº†falseä¸»çº¿ç¨‹æ‰“å¼€ä¿¡å·ä¹‹å‰å¤„äºé˜»å¡çŠ¶æ€            // æˆåŠŸæ¥æ”¶åˆ°ä¿¡å·æ—¶ä¸ä¼šå°†signalçŠ¶æ€é‡ç½®ä¸ºnonusignaled            signal.WaitOne();            // è·å¾—ä¿¡å·åç›´æ¥å…³é—­è¯¥ä¿¡å·é‡            System.Console.WriteLine("Got signal!");        }).Start();        for (int i = 0; i &lt; 5; i++)        {            System.Console.WriteLine(i);        }        Thread.Sleep(1000);        signal.Set();    }   }</code></pre><ul><li>è°ƒç”¨å®Œ<code>Set</code>åä¿¡å·ä¼šå¤„äºsignaledçŠ¶æ€ï¼Œé€šè¿‡è°ƒç”¨<code>Reset</code>å°†ä¿¡å·é‡æ–°å˜ä¸ºnonsignaledçŠ¶æ€</li></ul>]]></content>
      
      
      <categories>
          
          <category> C# </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C# Threading </tag>
            
            <tag> Asynchronous programming </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C# Asynchronous programming #1</title>
      <link href="/2021/11/10/CSAsync1/"/>
      <url>/2021/11/10/CSAsync1/</url>
      
        <content type="html"><![CDATA[<p><img src="/images/CSAsynchronousProgramming/cover.png" alt="$cover"></p><h1 id="C-Asynchronous-programming-1"><a href="#C-Asynchronous-programming-1" class="headerlink" title="C# Asynchronous programming #1"></a>C# Asynchronous programming #1</h1><h2 id="Thread"><a href="#Thread" class="headerlink" title="Thread"></a><strong>Thread</strong></h2><hr><h3 id="What-is-Thread"><a href="#What-is-Thread" class="headerlink" title="What is Thread ?"></a><strong>What is Thread ?</strong></h3><ul><li>çº¿ç¨‹æ˜¯ä¸€ä¸ªå¯æ‰§è¡Œè·¯å¾„ï¼Œæ¯ä¸€ä¸ªçº¿ç¨‹å¯ä»¥ç‹¬ç«‹äºå…¶ä»–çº¿ç¨‹æ‰§è¡Œ</li><li>æ¯ä¸ªçº¿ç¨‹åœ¨å‡è¿›ç¨‹(Process)å†…æ‰§è¡Œï¼Œåœ¨æ“ä½œç³»ç»Ÿä¸­ï¼Œè¿›è¡Œæä¾›äº†ç¨‹åºè¿è¡Œçš„ç‹¬ç«‹ç¯å¢ƒ</li><li>å•çº¿ç¨‹åº”ç”¨ï¼Œåœ¨è¿›ç¨‹çš„ç‹¬ç«‹ç¯å¢ƒä¸­åªè·‘ä¸€ä¸ªçº¿ç¨‹ï¼Œè¯¥çº¿ç¨‹å…·æœ‰ç‹¬å æƒ</li><li>å¤šçº¿ç¨‹åº”ç”¨ï¼Œå•ä¸ªè¿›ç¨‹ä¸­è·‘å¤šä¸ªçº¿ç¨‹ï¼Œå¤šä¸ªçº¿ç¨‹å…±äº«å½“å‰çš„æ‰§è¡Œç¯å¢ƒï¼ˆå°¤å…¶æ˜¯å†…å­˜ï¼‰<ul><li>å…±äº«ï¼šå¤šä¸ªçº¿ç¨‹å…±åŒå æœ‰æŸç§èµ„æºï¼Œå¦‚ä¸€ä¸ªçº¿ç¨‹åœ¨åå°è¯»å–æ•°æ®ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹åœ¨æ•°æ®åˆ°è¾¾åè¿›è¡Œå±•ç¤ºã€‚  </li></ul></li></ul><p>ä¸‹é¢æ˜¯c#ä¸­æœ€ç®€å•çš„å¼‚æ­¥ç¼–ç¨‹å®ä¾‹ï¼š</p><pre><code class="c#">class Program{    static void Main(string[] args)    {        Thread.CurrentThread.Name = "Main Thread...";        //å¼€è¾Ÿä¸€ä¸ªæ–°çº¿ç¨‹                    Thread thread = new Thread(WriteY);        thread.Name = "Y Thread...";        thread.Start();        Thread.Sleep(1);        //åŒæ—¶åœ¨ä¸»çº¿ç¨‹ä¸Šåšä¸€äº›å·¥ä½œ        System.Console.WriteLine(Thread.CurrentThread.Name);        for (int i = 0; i &lt; 1000; i++)        {            System.Console.Write("x");        }            }    static void WriteY()    {        System.Console.WriteLine(Thread.CurrentThread.Name);        for (int i = 0; i &lt; 1000; i++)        {            System.Console.Write("y");        }            }}</code></pre><ul><li>åœ¨å•æ ¸è®¡ç®—æœºä¸Šï¼Œæ“ä½œç³»ç»Ÿå¿…é¡»ä¸ºæ¯ä¸ªçº¿ç¨‹åˆ†é…<strong>æ—¶é—´ç‰‡</strong>ï¼ˆWindowsä¸‹é€šå¸¸ä¸º20msï¼‰æ¥æ¨¡æ‹Ÿå¹¶å‘ï¼Œä»è€Œåœ¨æœ¬ä¾‹ä¸­ï¼Œä¼šè¾“å‡ºé‡å¤çš„xå—ä¸yå—</li><li>åœ¨å¤šæ ¸æˆ–å¤šå¤„ç†å™¨çš„è®¡ç®—æœºä¸Šï¼Œä½¿ç”¨c#åˆ›å»ºçš„å¤šçº¿ç¨‹å¯ä»¥çœŸæ­£æ„ä¹‰ä¸Šå¹¶è¡Œæ‰§è¡Œã€‚ç„¶è€Œï¼Œåœ¨æœ¬ä¾‹ä¸­ç”±äºæ§åˆ¶å°ç¨‹åºå¤„ç†å¹¶å‘è¯·æ±‚æœºåˆ¶çš„å¾®å¦™æ€§ï¼Œä»ç„¶ä¼šå¾—åˆ°é‡å¤çš„xå—ä¸yå—<br><img src="/images/CSAsynchronousProgramming/first_example.png" alt="first_example"></li><li>c#ä¸­çº¿ç¨‹çš„ä¸€äº›å±æ€§ï¼š<ul><li>çº¿ç¨‹ä¸€æ—¦å¼€å§‹æ‰§è¡Œï¼Œå±æ€§<code>IsAlive</code>å°±å˜ä¸º<code>true</code>ï¼Œçº¿ç¨‹ç»“æŸå°±å˜ä¸º<code>false</code></li><li>çº¿ç¨‹ç»“æŸçš„æ¡ä»¶ï¼šçº¿ç¨‹æ„é€ å™¨ä¸­ä¼ å…¥çš„å§”æ‰˜ç»“æŸäº†æ‰§è¡Œ</li><li>çº¿ç¨‹ä¸€æ—¦ç»“æŸï¼Œä¾¿æ— æ³•é‡å¯</li><li>æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰ä¸€ä¸ª<code>Name</code>å±æ€§ï¼Œé€šå¸¸ç”¨äºè°ƒè¯•ï¼Œ<code>Name</code>åªèƒ½è®¾ç½®ä¸€æ¬¡ï¼Œå¤šæ¬¡æ›´æ”¹ä¼šæŠ›å‡ºå¼‚å¸¸</li><li>é™æ€å±æ€§<code>Thread.CurrentThread</code>ï¼ŒæŒ‡å‘å½“å‰æ‰§è¡Œçš„çº¿ç¨‹</li></ul></li></ul><h3 id="Join-and-Sleep"><a href="#Join-and-Sleep" class="headerlink" title="Join and Sleep"></a><strong>Join and Sleep</strong></h3><ul><li>åœ¨çº¿ç¨‹Aä¸­è°ƒç”¨å¦ä¸€ä¸ªçº¿ç¨‹Bå®ä¾‹çš„<code>Join</code>æ–¹æ³•ï¼Œçº¿ç¨‹Aä¾¿ä¼šç­‰å¾…çº¿ç¨‹Bæ‰§è¡Œç»“æŸåç»§ç»­æ‰§è¡Œã€‚</li><li>è°ƒç”¨<code>Jion</code>æ–¹æ³•æ—¶ï¼Œå¯åœ¨å‚æ•°ä¸­è®¾ç½®ä¸€ä¸ªè¶…æ—¶(æ¯«ç§’/<code>TimeSpan</code>)<ul><li>ä½¿ç”¨æœ‰è¶…æ—¶çš„é‡è½½æ–¹æ³•æ—¶è¿”å›å€¼<code>bool</code>ç±»å‹ï¼Œ<code>true</code>ï¼šçº¿ç¨‹ç»“æŸï¼›<code>false</code>ï¼šè¶…æ—¶</li></ul></li><li><code>Thread.Sleep</code>æ–¹æ³•ä¼šæš‚åœå½“å‰çš„çº¿ç¨‹ï¼Œå¹¶ç­‰å¾…ä¸€æ®µæ—¶é—´<ul><li><code>Thread.Sleep(0)</code>ä¼šå¯¼è‡´å¿åŸç«‹å³æ”¾å¼ƒæœ¬èº«å½“å‰æ—¶é—´ç‰‡ï¼Œè‡ªåŠ¨å°†cpuè½¬äº¤ç»™å…¶ä»–çº¿ç¨‹</li><li><code>Thread.Yield</code>ä¸<code>Thread.Sleep</code>åšåŒæ ·çš„äº‹æƒ…ï¼Œä¸åŒçš„æ˜¯<code>Thread.Yield</code>åªä¼šæŠŠæ‰§è¡Œäº¤ç»™åŒä¸€å¤„ç†å™¨çš„å…¶ä»–çº¿ç¨‹</li><li>å½“ç­‰å¾…<code>Sleep</code>å’Œ<code>Join</code>æ—¶ï¼Œçº¿ç¨‹å¤„äºé˜»å¡çŠ¶æ€</li></ul></li></ul><pre><code class="c#">class Program    {        static Thread thread1;        static Thread thread2;        static void Main(string[] args)        {            thread1 = new Thread(ThreadProc);            thread1.Name = "t1";            thread1.Start();            thread2 = new Thread(ThreadProc);            thread2.Name = "t2";            thread2.Start();        }        private static void ThreadProc()        {            System.Console.WriteLine($"\nCurrent thread:{Thread.CurrentThread.Name}");            if(Thread.CurrentThread.Name=="t1"&amp;&amp;            ((thread2.ThreadState&amp;ThreadState.Unstarted)==0))                if(thread2.Join(2000))                    System.Console.WriteLine("t2 has been terminated");                else                    System.Console.WriteLine("overtime");            //TimeSpan(0,0,4) 0hï¼Œ0mï¼Œ4s            Thread.Sleep(new TimeSpan(0,0,4));            System.Console.WriteLine($"\nCurrent thread:{Thread.CurrentThread.Name}");            System.Console.WriteLine($"Thread1:{thread1.ThreadState}");            System.Console.WriteLine($"Thread2:{thread2.ThreadState}");        }    }</code></pre><p>åœ¨ä¸€æ¬¡æ‰§è¡Œä¸­ï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹ï¼š<br><img src="/images/CSAsynchronousProgramming/join_sleep.png" alt="join_sleep"><br>åœ¨æ­¤æ¬¡è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œçº¿ç¨‹<code>t2</code>é¦–å…ˆè¿›å…¥<code>ThreadProc</code>ï¼Œä¹‹åå¼€å§‹Sleepï¼Œæ—¶é—´ç‰‡äº¤ç»™çº¿ç¨‹<code>t1</code>ï¼Œifåˆ¤æ–­æˆç«‹ï¼Œ<code>t1</code>è¿›å…¥é˜»å¡çŠ¶æ€ç­‰å¾…<code>t2</code>è¿è¡Œç»“æŸã€‚<code>t2</code>Sleepç»“æŸåå¼€å§‹è¿è¡Œï¼Œè¿è¡Œç»“æŸåï¼Œ<code>t1</code>ç»§ç»­è¿è¡Œç›´åˆ°ç»“æŸ</p><h3 id="Blocking"><a href="#Blocking" class="headerlink" title="Blocking"></a><strong>Blocking</strong></h3><ul><li>å¦‚æœçº¿ç¨‹çš„æ‰§è¡Œç”±äºæŸç§åŸå› å¯¼è‡´æš‚åœï¼Œé‚£ä¹ˆå°±è®¤ä¸ºè¯¥çº¿ç¨‹è¢«é˜»å¡äº†<ul><li>å¦‚<code>Sleep</code>ã€<code>Join</code></li></ul></li><li>è¢«é˜»å¡çš„çº¿ç¨‹ä¼šç«‹å³å°†å…¶æ—¶é—´ç‰‡äº¤ç»™å…¶ä»–çº¿ç¨‹ï¼Œä»æ­¤ä¸å†æ¶ˆè€—å¤„ç†å™¨æ—¶é—´ï¼ŒçŸ¥é“æ»¡è¶³é˜»å¡ç»“æŸæ¡ä»¶ä¸ºæ­¢</li><li>å¯ä»¥é€šè¿‡<code>ThreadState</code>å±æ€§æ¥åˆ¤æ–­çº¿ç¨‹æ˜¯å¦å¤„äºé˜»å¡çŠ¶æ€</li><li><code>ThreadState</code>æ˜¯ä¸€ä¸ª<em>flags enum</em>ï¼Œé€šè¿‡æŒ‰ä½ä¸/æˆ–æ¥åˆå¹¶æ•°æ®é¡¹<br><img src="/images/CSAsynchronousProgramming/thread_state.png" alt="thread_state"><br><code>ThreadState</code>å˜åŒ–å›¾å¦‚ä¸‹ï¼š<br><img src="/images/CSAsynchronousProgramming/transform.png" alt="transform"><br>å¸¸ç”¨çš„çŠ¶æ€åªæœ‰å››ä¸ªï¼š<code>Unstarted</code>ã€<code>Running</code>ã€<code>WaitSleepJoin</code>å’Œ<code>Stopped</code></li></ul><pre><code class="c#">  public static ThreadState Foo(ThreadState ts)          {              return ts &amp; (                  ThreadState.Stopped |                  ThreadState.Unstarted |                  ThreadState.WaitSleepJoin              );          }</code></pre><ul><li><p>å½“é‡åˆ°ä¸‹åˆ—å››ç§æƒ…å†µè§£é™¤é˜»å¡ï¼š</p><ul><li>é˜»å¡æ¡ä»¶è¢«æ»¡è¶³</li><li>æ“ä½œè¶…æ—¶(å¦‚æœè®¾ç½®äº†è¶…æ—¶)</li><li>é€šè¿‡<code>Thread.Interrupt()</code>è¿›è¡Œæ‰“æ–­</li><li>é€šè¿‡<code>Thread.Abort()</code>è¿›è¡Œä¸­æ­¢</li></ul></li><li><p>ä¸Šä¸‹æ–‡åˆ‡æ¢</p><ul><li>å½“çº¿ç¨‹é˜»å¡æˆ–è§£é™¤é˜»å¡æ—¶ï¼Œæ“ä½œç³»ç»Ÿæ‰§è¡Œä¸Šä¸‹æ–‡åˆ‡æ¢ã€‚è¿™ä¼šäº§ç”Ÿå°‘é‡å¼€é”€ï¼Œé€šå¸¸ä¸º1æˆ–2å¾®ç§’</li></ul></li><li><p>I/Oå¯†é›†å‹ä¸CPUå¯†é›†å‹</p><ul><li>èŠ±è´¹å¤§éƒ¨åˆ†æ—¶é—´ç­‰å¾…æŸäº‹å‘ç”Ÿçš„æ“ä½œç§°ä¸ºI/Oå¯†é›†å‹ï¼Œé€šå¸¸æ­¤äº‹æŒ‡è¾“å…¥/è¾“å‡ºï¼Œä½†ä¸æ˜¯ç¡¬æ€§è¦æ±‚ï¼Œå¦‚<code>Thread.Sleep()</code>è¢«è§†ä¸ºI/Oå¯†é›†å‹</li><li>ç›¸åï¼Œä¸€ä¸ªèŠ±è´¹å¤§éƒ¨åˆ†æ—¶é—´æ‰§è¡ŒCPUå¯†é›†å‹çš„æ“ä½œæˆä¸ºCPUå¯†é›†å‹</li></ul></li><li><p>é˜»å¡ä¸å¿™ç­‰å¾…</p><ul><li>é˜»å¡æ˜¯åœ¨å½“å‰çº¿ç¨‹ä¸ŠåŒæ­¥çš„ç­‰å¾…ï¼Œ<code>Console.ReadLine()</code>ã€<code>Thread.Sleep()</code>ã€<code>Thread.Join()</code>éƒ½æ˜¯é˜»å¡æ“ä½œ</li><li>å¿™ç­‰å¾…ä»¥å‘¨æœŸæ€§çš„åœ¨ä¸€ä¸ªå¾ªç¯é‡Œæ‰“è½¬ï¼Œä¹Ÿæ˜¯åŒæ­¥çš„<br><code>while(DataTime.Now&lt;nextStartTime)</code></li><li>è¿˜æœ‰ä¸€ç§å¼‚æ­¥çš„æ“ä½œï¼Œåœ¨æ“ä½œå®Œæˆåè§¦å‘å›è°ƒ</li><li>å¦‚æœæ¡ä»¶å¾ˆå¿«å¾—åˆ°æ»¡è¶³ï¼ˆåœ¨å‡ å¾®ç§’ä¹‹å†…ï¼‰,çŸ­æš‚çš„å¿™ç­‰å¾…æ›´ä¸ºé€‚åˆï¼Œå› ä¸ºä»–é¿å…äº†ä¸Šä¸‹æ–‡åˆ‡æ¢çš„å¼€é”€</li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> C# </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C# Threading </tag>
            
            <tag> Asynchronous programming </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Transformer</title>
      <link href="/2021/10/31/Transformer/"/>
      <url>/2021/10/31/Transformer/</url>
      
        <content type="html"><![CDATA[<p><img src="/images/transformer/transformer.jpg" alt="$cover"></p><h1 id="Attention-Is-All-Your-Need"><a href="#Attention-Is-All-Your-Need" class="headerlink" title="Attention Is All Your Need"></a>Attention Is All Your Need</h1><p>ä»¥å¾€ä¸»æµçš„åºåˆ—è½¬å½•(seq2seq)æ¨¡å‹ä¸­å¸¸å¸¸åŸºäºåŒ…å«Encoderä¸Decoderçš„å¤æ‚RNNæˆ–CNNï¼Œè¿™äº›æ¨¡å‹ä¹Ÿä¼šåœ¨Encoderä¸Decoderä¸­ä½¿ç”¨Attentionæœºåˆ¶ã€‚<br>Transformerä»…ä»…ä½¿ç”¨äº†Attentionæœºåˆ¶ï¼Œå®Œå…¨æ²¡ç”¨åˆ°å¾ªç¯å’Œå·ç§¯ï¼Œå°†å¾ªç¯å±‚æ¢ä¸ºäº†Multi-headed Attetionã€‚Transformerè®­ç»ƒé€Ÿåº¦æ›´å¿«ï¼Œé¢„æµ‹èƒ½åŠ›æ›´å¥½ã€‚  </p><hr><h2 id="Advantages"><a href="#Advantages" class="headerlink" title="Advantages"></a>Advantages</h2><ul><li>RNNéš¾ä»¥å¹¶è¡Œè®¡ç®—è®¡ç®—æ•ˆç‡ä½ï¼ŒTransformerå¯å¹¶è¡Œã€‚</li><li>RNNå¸¦æœ‰æ—¶åºä¿¡æ¯ï¼Œä½†åœ¨åºåˆ—è¾ƒé•¿æ—¶ï¼Œæ—©æœŸçš„ä¿¡æ¯å¯èƒ½åœ¨åæœŸä¸¢å¤±ã€‚Attentionå¯é€šè¿‡åœ¨è¾“å…¥åºåˆ—ä¸­åŠ å…¥indexå¢åŠ æ—¶åºï¼Œå¹¶ä¸”ä¸ä¼šå­˜åœ¨ä¿¡æ¯ä¸¢å¤±é—®é¢˜ã€‚</li><li>ç”¨CNNå¯ä»¥æ›¿æ¢æ‰RNNå®ç°å¹¶è¡Œè®¡ç®—ï¼Œä½†ç”±äºæ„Ÿå—é‡çš„é™åˆ¶å…¶ä¾ç„¶å­˜åœ¨éš¾ä»¥å¯¹é•¿åºåˆ—è¿›è¡Œå»ºæ¨¡çš„é—®é¢˜ã€‚Transformerä¸­çš„Attentionæœºåˆ¶ä¸€æ¬¡æ€§çœ‹åˆ°æ‰€æœ‰çš„åºåˆ—ï¼Œæ¶ˆé™¤äº†è¿™ä¸€é—®é¢˜ã€‚</li><li>CNNå¯åˆ©ç”¨å¤šä¸ªè¾“å‡ºé€šé“è¯†åˆ«ä¸ä¸€æ ·çš„æ¨¡å¼ï¼Œåœ¨Transformerä¸­ä½¿ç”¨Multi-headed Attetionï¼Œä¹Ÿå®ç°äº†è¿™æ ·çš„ç‰¹æ€§ã€‚</li></ul><hr><h2 id="Model-Architecture"><a href="#Model-Architecture" class="headerlink" title="Model Architecture"></a>Model Architecture</h2><p>Transformeræ•´ä½“åˆ†ä¸ºEncoderä¸Decoderä¸¤å¤§éƒ¨åˆ†ã€‚  </p><ul><li>Input Embedding/Output Embeddingå°†è¯æ˜ å°„åˆ°å‘é‡ã€‚</li><li>Postoinal Encoding</li><li>NxæŒ‡æœ‰Nä¸ªè¯¥å—å åœ¨ä¸€èµ·ã€‚</li><li>Addè¡¨ç¤ºæ®‹å·®è¿æ¥ï¼ŒNormè¡¨ç¤ºæ­£åˆ™å¤„ç†ã€‚</li><li>åœ¨è®­ç»ƒæ—¶ï¼Œè§£ç å™¨çš„è¾“å…¥ï¼ˆoutputsï¼‰æ˜¯çœŸå®å€¼(Ground Truth)ï¼›åœ¨æµ‹è¯•æ—¶ï¼Œè¾“å…¥ï¼ˆoutputsï¼‰æ˜¯å‰ä¸€æ—¶åˆ»çš„è¾“å‡ºã€‚<br><img src="/images/transformer/architecture.png" alt="architecture"></li></ul><h3 id="Encoder"><a href="#Encoder" class="headerlink" title="Encoder"></a>Encoder</h3><p>N=6ï¼Œout_dim=input_dim=512ã€‚ç”±ä¸¤ä¸ªå­å±‚ç»„æˆï¼Œä¸¤ä¸ªå­å±‚åˆ†åˆ«ä¸ºMulti-headed Attetionå’Œç®€å•çš„MLPã€‚æ¯ä¸ªå­å±‚ä½¿ç”¨æ®‹å·®è¿æ¥å’Œlayer normalizationã€‚</p><blockquote><p>layer normalization and batch normalization</p><blockquote><p>batch:å¯¹æ¯ä¸€ä¸ªfeatureï¼Œå°†è¿™ä¸ªfeatureåœ¨ä¸€ä¸ªbatchä¸­çš„æ‰€æœ‰æ•°æ®çš„å‡å€¼å˜ä¸º0æ–¹å·®å˜ä¸º1<br><img src="/images/transformer/batch_norm.png" alt="batch_norm"><br>layer:å¯¹æ¯ä¸€ä¸ªæ ·æœ¬ï¼Œå°†è¿™ä¸ªæ ·æœ¬æ‰€æœ‰çš„ç‰¹å¾å‡å€¼å˜ä¸º0æ–¹å·®å˜ä¸º1<br><img src="/images/transformer/layer_norm.png" alt="layer_norm"><br>æˆsequenceçš„normalization:<br>è“ä¸ºbatchï¼Œé»„ä¸ºlayerï¼Œå–æ‰€æœ‰æ•°æ®å»åšnormã€‚é˜´å½±éƒ¨åˆ†ä¸ºæ ·æœ¬å®é™…é•¿åº¦ï¼ˆå³è¯¥æ ·æœ¬åºåˆ—çš„seq_lenï¼‰ï¼Œåœ¨å®é™…é•¿åº¦å¤–å–å…¨0ã€‚<br><img src="/images/transformer/seq_norm.png" alt="seq_norm"><br>ä½¿ç”¨layernormalizationç›¸å¯¹ç¨³å®šä¸€äº›ã€‚æ¯ä¸ªæ ·æœ¬è‡ªå·±åšå‡å€¼æ–¹å·®å†å»normã€‚</p></blockquote></blockquote><hr><h3 id="Decoder"><a href="#Decoder" class="headerlink" title="Decoder"></a>Decoder</h3><p>N=6,ç”±ä¸‰ä¸ªå­å±‚ç»„æˆï¼Œå…¶ä¸­åä¸¤ä¸ªå­å±‚Encoderä¸€è‡´ï¼Œè€Œç¬¬ä¸€ä¸ªå­å±‚æœ‰æ‰€ä¸åŒï¼Œå…¶ä½¿ç”¨äº†Masked Multi-headed Attetionã€‚åœ¨Decoderä¸­è¿˜ä½¿ç”¨äº†è‡ªå›å½’ã€‚å½“å‰çš„outputsè¾“å…¥æ˜¯ä¸Šä¸€æ¬¡çš„è¾“å‡ºã€‚åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼ŒDecoderçš„è¾“å…¥outputsä¸ºground truthï¼Œä½†åœ¨tæ—¶åˆ»çš„è¾“å…¥ä¸åº”åŒ…å«tæ—¶åˆ»ä¹‹åçš„è¾“å…¥ï¼Œæ‰€ä»¥ç¬¬ä¸€ä¸ªå­å±‚å¼•å…¥äº†maskedæœºåˆ¶ã€‚</p><hr><h3 id="Attention"><a href="#Attention" class="headerlink" title="Attention"></a>Attention</h3><blockquote><p>Transformerä½¿ç”¨äº†Scaled Dot-Product Attentionã€‚å…¶å°†è¾“å…¥çš„ä¸€ä¸ªseqè¿›è¡Œèåˆè¾“å‡ºä¸€ä¸ªç­‰é•¿çš„seqã€‚<br><img src="/images/transformer/panaroma.png" alt="panaroma"><br>åœ¨èåˆæ—¶ï¼Œæ¯ä¸€ä¸ªè¾“å‡ºéƒ½è€ƒè™‘äº†å…¶å¯¹åº”ä½ç½®è¾“å…¥å…ƒç´ å’Œseqä¸­å…¶ä»–å…ƒç´ çš„ç›¸å…³åº¦ã€‚Wqä¸Wkæ˜¯ä¸¤ä¸ªå‚æ•°çŸ©é˜µï¼ŒåŸå§‹è¾“å…¥åšçŸ©é˜µè¿ç®—åå¾—åˆ°ä¸¤ä¸ªå‘é‡qã€kï¼Œæœ€åç”¨å†…ç§¯è¿ç®—å³å¾—åˆ°äº†åŸå§‹è¾“å…¥çš„ç›¸å…³æ€§ï¼ˆå†…ç§¯è¿ç®—ä»£è¡¨äº†ä½™å¼¦ç›¸ä¼¼åº¦ï¼‰ã€‚<br><img src="/images/transformer/dot-product.png" alt="dot-product"><br>åŒç†å¯è®¡ç®—å‡ºa1ä¸è‡ªèº«åŠåºåˆ—ä¸­æ‰€æœ‰å…ƒç´ çš„ç›¸å…³æ€§ï¼Œå…¨éƒ¨è®¡ç®—å®Œæˆåè¾“å…¥åˆ°softmaxå±‚è¿›è¡Œå½’ä¸€åŒ–ã€‚<br><img src="/images/transformer/to-softmax.png" alt="to-softmax"><br>åˆ©ç”¨ä¸€ä¸ªæ–°çš„å‚æ•°çŸ©é˜µWvè·å¾—v1-v4ã€‚vä¸ç›¸å…³æ€§ç³»æ•°çš„å¸¦æƒå’Œå¾—åˆ°b1ã€‚<br><img src="/images/transformer/b1.png" alt="b1"><br>åŒç†ï¼Œå¯ä»¥å¾—åˆ°b2ã€b3ã€b4ã€‚<br><img src="/images/transformer/panaroma.png" alt="panaroma"><br>ä¸Šè¿°æ­¥éª¤å¯è¡¨ç¤ºä¸ºçŸ©é˜µè¿ç®—ã€‚<br><img src="/images/transformer/use_matrix.png" alt="use_matrix"><br>æœ€ç»ˆçš„è®¡ç®—å…¬å¼å¯å¦‚ä¸‹è¡¨ç¤ºã€‚è¿™é‡Œå¤šäº†ä¸€ä¸ªé™¤ä»¥æ ¹å·dk(input_dim)ï¼Œè¿™æ˜¯å› ä¸ºå‘é‡(Transformerä¸­dk=512)æ¯”è¾ƒé•¿æ—¶ï¼Œå†…ç§¯ç»å¯¹å€¼å¯èƒ½ä¼šå‡ºç°æ¯”è¾ƒå¤§çš„æƒ…å†µï¼Œè¿™å¯¹æ¢¯åº¦ä¸‹é™æ˜¯ä¸åˆ©çš„ã€‚<br><img src="/images/transformer/formula.png" alt="formula"> </p></blockquote><blockquote><p>Multi-headed Attetionå¯ä»¥çœ‹ä½œæ˜¯å¤šé€šé“çš„Attentionã€‚ä»¥2headsä¸ºä¾‹ï¼Œè®¡ç®—è¿‡ç¨‹å¦‚ä¸‹ï¼Œå¢åŠ äº†å¤šä¸ªå‚æ•°çŸ©é˜µã€‚<br><img src="/images/transformer/multi-head.png" alt="multi-head"><br>åœ¨æœ€åï¼Œå°†bi1ä¸bi2ä¸€èµ·å…¶ä»–çš„ç›¸åº”å¤šé€šé“båœ¨ç‰¹å¾ç»´åº¦æ‹¼æ¥èµ·æ¥ï¼Œä¸ºä¿è¯dimä¸å˜ï¼Œåˆ©ç”¨ä¸€ä¸ªæ–°çš„å‚æ•°çŸ©é˜µWoå°†è¾“å‡ºå…ƒç´ çš„ç»´åº¦å˜ä¸ºå’Œè¾“å…¥ç›¸åŒã€‚<br><img src="/images/transformer/concat.png" alt="concat"><br>ä¸€ä¸ªçº¿æ€§å±‚å°±å¯çœ‹ä½œä¸€ä¸ªå‚æ•°çŸ©é˜µï¼Œæ‰€ä»¥ä¸Šè¿°ä¸¤æ­¥æ“ä½œå¯çœ‹ä½œå¦‚ä¸‹çš„è¿‡ç¨‹ã€‚<br><img src="/images/transformer/liner-representatoin.png" alt="liner-representatoin"> </p></blockquote><hr><h3 id="Cross-Attention-in-Transformer"><a href="#Cross-Attention-in-Transformer" class="headerlink" title="Cross Attention in Transformer"></a>Cross Attention in Transformer</h3><p>Cross AttentionæŒ‡çš„æ˜¯Encoderä¸Decoderä¹‹é—´çš„Attentionæœºåˆ¶ã€‚å…¶Vå’ŒKæ¥è‡ªäºEncoderï¼Œè€ŒQæ¥è‡ªäºmasked Attentionã€‚ç”±äºæ˜¯maskedï¼Œå‘Qè¾“å…¥çš„éƒ¨åˆ†å…¶seq_lenä¼šä¸Vå’ŒKçš„ä¸åŒï¼Œåˆå› ä¸ºå…¶ä½œä¸ºQè¾“å…¥ï¼Œæ‰€ä»¥cross-attentionè¾“å‡ºçš„seq_lenä¼šä¸ä¹‹ç›¸åŒï¼Œæ‰€ä»¥Decoderçš„è¾“å…¥è¾“å‡ºseq_lenæ˜¯ç›¸åŒçš„ã€‚<br><img src="/images/transformer/cross-attention.png" alt="cross-attention">  </p><hr><h3 id="Feed-Forward"><a href="#Feed-Forward" class="headerlink" title="Feed-Forward"></a>Feed-Forward</h3><p>åªæœ‰ä¸€ä¸ªMLPåˆ†åˆ«å»ä½œç”¨äºseqä¸­çš„æ¯ä¸ªè¯ï¼Œ<br>å›¾ä¸­MLPæƒé‡æ˜¯ç›¸åŒçš„ï¼Œä¹Ÿä¸éœ€è¦æŠŠEncoderçš„è¾“å‡ºåˆå¹¶è¾“å…¥åˆ°å¤§çš„MLPã€‚å› ä¸ºè¿™é‡Œåªæ˜¯æƒ³è¦æŠŠåŸå§‹ç»´åº¦æŠ•å½±åˆ°æƒ³è¦çš„å¦ä¸€ä¸ªç»´åº¦ï¼Œå…¶ä¿¡æ¯èåˆå·²ç»åœ¨Encoderä¸­åšå®Œäº†ã€‚<br><img src="/images/transformer/feed-forward.png" alt="feed-forward"></p><hr><h3 id="Embedding-and-Softmax"><a href="#Embedding-and-Softmax" class="headerlink" title="Embedding and Softmax"></a>Embedding and Softmax</h3><p>ç¼–ç å™¨è¦æœ‰embeddingï¼Œè§£ç å™¨è¦æœ‰embeddingï¼Œsoftmaxå±‚ä¹‹å‰æœ‰ä¸€ä¸ªLinerå±‚ï¼Œè¿™ä¸‰ä¸ªå±‚å…±äº«æƒé‡ã€‚</p><hr><h3 id="Positional-Encoding"><a href="#Positional-Encoding" class="headerlink" title="Positional Encoding"></a>Positional Encoding</h3><p>ä¸ºäº†ç»™AttentionåŠ ä¸Šæ—¶åºä¿¡æ¯ï¼Œç»™è¾“å…¥åŠ ä¸Šä½ç½®ä¿¡æ¯ã€‚</p><hr>]]></content>
      
      
      <categories>
          
          <category> Machine Learning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Neural Network </tag>
            
            <tag> Seq2Seq Model </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Typography and tags</title>
      <link href="/2021/10/15/Typography%20and%20tags/"/>
      <url>/2021/10/15/Typography%20and%20tags/</url>
      
        <content type="html"><![CDATA[<p><img src="/images/lake.png" alt="$cover"></p><h1 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h1><hr><p>This post uses <code>hexo-renderer-markdown-it</code> plugin as markdown processor, so please install it to achieve the effect.</p><pre><code class="bash">npm un hexo-renderer-marked --savenpm i hexo-renderer-markdown-it --savenpm i markdown-it-emoji --savenpm i markdown-it-mark --savenpm i markdown-it-deflist --savenpm i markdown-it-container --save</code></pre><h1 id="Configuration"><a href="#Configuration" class="headerlink" title="Configuration"></a>Configuration</h1><p>Add following to <code>_config.yml</code> of your site.</p><pre><code class="yml">markdown:  render:    html: true    xhtmlOut: false    breaks: false    linkify: true    typographer: true    quotes: 'â€œâ€â€˜â€™'  plugins:    - markdown-it-abbr    - markdown-it-footnote    - markdown-it-ins    - markdown-it-sub    - markdown-it-sup    - markdown-it-deflist  anchors:    level: 2    collisionSuffix: 'v'    permalink: false    permalinkClass: header-anchor    permalinkSymbol: " "    permalinkBefore: false</code></pre><h1 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h1><hr><h2 id="Headings"><a href="#Headings" class="headerlink" title="Headings"></a>Headings</h2><pre><code class="markdown"># h1 Heading 8-)## h2 Heading### h3 Heading#### h4 Heading##### h5 Heading###### h6 Heading</code></pre><h1 id="h1-Heading-8"><a href="#h1-Heading-8" class="headerlink" title="h1 Heading 8-)"></a>h1 Heading 8-)</h1><h2 id="h2-Heading"><a href="#h2-Heading" class="headerlink" title="h2 Heading"></a>h2 Heading</h2><h3 id="h3-Heading"><a href="#h3-Heading" class="headerlink" title="h3 Heading"></a>h3 Heading</h3><h4 id="h4-Heading"><a href="#h4-Heading" class="headerlink" title="h4 Heading"></a>h4 Heading</h4><h5 id="h5-Heading"><a href="#h5-Heading" class="headerlink" title="h5 Heading"></a>h5 Heading</h5><h6 id="h6-Heading"><a href="#h6-Heading" class="headerlink" title="h6 Heading"></a>h6 Heading</h6><h2 id="Horizontal-Rules"><a href="#Horizontal-Rules" class="headerlink" title="Horizontal Rules"></a>Horizontal Rules</h2><pre><code class="markdown">___---***</code></pre><hr><hr><hr><h2 id="Typographic-replacements"><a href="#Typographic-replacements" class="headerlink" title="Typographic replacements"></a>Typographic replacements</h2><pre><code class="markdown">(c) (C) (r) (R) (tm) (TM) (p) (P) +-test.. test... test..... test?..... test!....!!!!!! ???? ,,  -- ---"Smartypants, double quotes" and 'single quotes'</code></pre><p>(c) (C) (r) (R) (tm) (TM) (p) (P) +-</p><p>test.. testâ€¦ testâ€¦.. test?â€¦.. test!â€¦.</p><p>!!!!!! ???? ,,  â€“ â€”</p><p>â€œSmartypants, double quotesâ€ and â€˜single quotesâ€™</p><h2 id="Emphasis"><a href="#Emphasis" class="headerlink" title="Emphasis"></a>Emphasis</h2><pre><code class="markdown">**This is bold text**__This is bold text__*This is italic text*_This is italic text_~~Strikethrough~~</code></pre><p><strong>This is bold text</strong></p><p><strong>This is bold text</strong></p><p><em>This is italic text</em></p><p><em>This is italic text</em></p><p><del>Strikethrough</del></p><h2 id="Blockquotes"><a href="#Blockquotes" class="headerlink" title="Blockquotes"></a>Blockquotes</h2><pre><code class="markdown">&gt; Blockquotes can also be nested...&gt;&gt; ...by using additional greater-than signs right next to each other...&gt; &gt; &gt; ...or with spaces between arrows.</code></pre><blockquote><p>Blockquotes can also be nestedâ€¦</p><blockquote><p>â€¦by using additional greater-than signs right next to each otherâ€¦</p><blockquote><p>â€¦or with spaces between arrows.</p></blockquote></blockquote></blockquote><h2 id="Lists"><a href="#Lists" class="headerlink" title="Lists"></a>Lists</h2><h3 id="Unordered"><a href="#Unordered" class="headerlink" title="Unordered"></a>Unordered</h3><pre><code class="markdown">+ Create a list by starting a line with `+`, `-`, or `*`+ Sub-lists are made by indenting 2 spaces:  - Marker character change forces new list start:    * Ac tristique libero volutpat at    + Facilisis in pretium nisl aliquet    - Nulla volutpat aliquam velit+ Very easy!</code></pre><ul><li>Create a list by starting a line with <code>+</code>, <code>-</code>, or <code>*</code></li><li>Sub-lists are made by indenting 2 spaces:<ul><li>Marker character change forces new list start:<ul><li>Ac tristique libero volutpat at</li></ul><ul><li>Facilisis in pretium nisl aliquet</li></ul><ul><li>Nulla volutpat aliquam velit</li></ul></li></ul></li><li>Very easy!</li></ul><h3 id="Ordered"><a href="#Ordered" class="headerlink" title="Ordered"></a>Ordered</h3><pre><code class="markdown">1. Lorem ipsum dolor sit amet  1. Indented list    1. Another level  2. Indent2. Consectetur adipiscing elit3. Integer molestie lorem at massa</code></pre><ol><li>Lorem ipsum dolor sit amet</li><li>Indented list    1. Another level</li><li>Indent</li><li>Consectetur adipiscing elit</li><li>Integer molestie lorem at massa</li></ol><pre><code class="markdown">1. You can use sequential numbers...1. ...or keep all the numbers as `1.`</code></pre><ol><li>You can use sequential numbersâ€¦</li><li>â€¦or keep all the numbers as <code>1.</code></li></ol><h4 id="Start-numbering-with-offset"><a href="#Start-numbering-with-offset" class="headerlink" title="Start numbering with offset:"></a>Start numbering with offset:</h4><pre><code class="markdown">57. foo1. bar</code></pre><ol start="57"><li>foo</li><li>bar</li></ol><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><pre><code class="markdown">Inline `code`</code></pre><p>Inline <code>code</code></p><h3 id="Indented-code"><a href="#Indented-code" class="headerlink" title="Indented code"></a>Indented code</h3><pre><code class="markdown">// Some comments    line 1 of code    line 2 of code    line 3 of code</code></pre><pre><code>// Some commentsline 1 of codeline 2 of codeline 3 of code</code></pre><h3 id="Block-code-â€œfencesâ€"><a href="#Block-code-â€œfencesâ€" class="headerlink" title="Block code â€œfencesâ€"></a>Block code â€œfencesâ€</h3><pre><code class="markdown">```Sample text here...```</code></pre><pre><code>Sample text here...</code></pre><p>Syntax highlighting</p><pre><code class="markdown">``` js sample.jsvar foo = function (bar) {  return bar++;};console.log(foo(5));```</code></pre><pre><code class="js">var foo = function (bar) {  return bar++;};console.log(foo(5));</code></pre><h2 id="Tables"><a href="#Tables" class="headerlink" title="Tables"></a>Tables</h2><pre><code class="markdown">| Option | Description |Description | Description | Description | Description || ------ | ----------- |----------- | ----------- | ----------- | ----------- || data   | path to data files to supply the data that will be passed into templates. || engine | engine to be used for processing templates. Handlebars is the default. || ext    | extension to be used for dest files. |</code></pre><table><thead><tr><th>Option</th><th>Description</th><th>Description</th><th>Description</th><th>Description</th><th>Description</th></tr></thead><tbody><tr><td>data</td><td>path to data files to supply the data that will be passed into templates.</td><td></td><td></td><td></td><td></td></tr><tr><td>engine</td><td>engine to be used for processing templates. Handlebars is the default.</td><td></td><td></td><td></td><td></td></tr><tr><td>ext</td><td>extension to be used for dest files.</td><td></td><td></td><td></td><td></td></tr></tbody></table><h3 id="Right-aligned-columns"><a href="#Right-aligned-columns" class="headerlink" title="Right aligned columns"></a>Right aligned columns</h3><pre><code class="markdown">| Option | Description || ------:| -----------:|| data   | path to data files to supply the data that will be passed into templates. || engine | engine to be used for processing templates. Handlebars is the default. || ext    | extension to be used for dest files. |</code></pre><table><thead><tr><th align="right">Option</th><th align="right">Description</th></tr></thead><tbody><tr><td align="right">data</td><td align="right">path to data files to supply the data that will be passed into templates.</td></tr><tr><td align="right">engine</td><td align="right">engine to be used for processing templates. Handlebars is the default.</td></tr><tr><td align="right">ext</td><td align="right">extension to be used for dest files.</td></tr></tbody></table><h2 id="Links"><a href="#Links" class="headerlink" title="Links"></a>Links</h2><pre><code class="markdown">[link text](http://dev.nodeca.com)</code></pre><p><a href="http://dev.nodeca.com/">link text</a></p><pre><code class="markdown">[link with title](http://nodeca.github.io/pica/demo/ "title text!")</code></pre><p><a href="http://nodeca.github.io/pica/demo/" title="title text!">link with title</a></p><pre><code class="markdown">Autoconverted link https://github.com/nodeca/pica (enabled linkify)</code></pre><p>Autoconverted link <a href="https://github.com/nodeca/pica">https://github.com/nodeca/pica</a> (enabled linkify)</p><h2 id="Images"><a href="#Images" class="headerlink" title="Images"></a>Images</h2><pre><code class="markdown">![Minion](https://octodex.github.com/images/minion.png)![Stormtroopocat](https://octodex.github.com/images/stormtroopocat.jpg "The Stormtroopocat")</code></pre><p><img src="https://octodex.github.com/images/minion.png" alt="Minion"><br><img src="https://octodex.github.com/images/stormtroopocat.jpg" alt="Stormtroopocat" title="The Stormtroopocat"></p><p>Like links, Images also have a footnote style syntax</p><pre><code class="markdown">![Alt text][id]With a reference later in the document defining the URL location:[id]: https://octodex.github.com/images/dojocat.jpg  "The Dojocat"</code></pre><p><img src="https://octodex.github.com/images/dojocat.jpg" alt="Alt text" title="The Dojocat"></p><p>With a reference later in the document defining the URL location:</p><h2 id="Plugins"><a href="#Plugins" class="headerlink" title="Plugins"></a>Plugins</h2><p>The killer feature of <code>markdown-it</code> is very effective support of<br><a href="https://www.npmjs.org/browse/keyword/markdown-it-plugin">syntax plugins</a>. The sample <a href="#configuration">configuration snippet</a></p><h3 id="Emojies"><a href="#Emojies" class="headerlink" title="Emojies"></a><a href="https://github.com/markdown-it/markdown-it-emoji">Emojies</a></h3><pre><code class="markdown">Classic markup: :wink: :crush: :cry: :tear: :laughing: :yum:Shortcuts (emoticons): :-) :-( 8-) ;)</code></pre><p>Classic markup: <span class="github-emoji"><span>ğŸ˜‰</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f609.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> :crush: <span class="github-emoji"><span>ğŸ˜¢</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f622.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> :tear: <span class="github-emoji"><span>ğŸ˜†</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f606.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> <span class="github-emoji"><span>ğŸ˜‹</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f60b.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></p><p>Shortcuts (emoticons): :-) :-( 8-) ;)</p><h3 id="Subscript-Superscript"><a href="#Subscript-Superscript" class="headerlink" title="Subscript / Superscript"></a><a href="https://github.com/markdown-it/markdown-it-sub">Subscript</a> / <a href="https://github.com/markdown-it/markdown-it-sup">Superscript</a></h3><pre><code class="markdown">Superscript: 19^th^Subscript: H~2~O</code></pre><p>Superscript: 19^th^</p><p>Subscript: H<del>2</del>O</p><h3 id="lt-ins-gt"><a href="#lt-ins-gt" class="headerlink" title="<ins>"></a><a href="https://github.com/markdown-it/markdown-it-ins">&lt;ins&gt;</a></h3><pre><code class="markdown">++Inserted text++</code></pre><p>++Inserted text++</p><h3 id="lt-mark-gt"><a href="#lt-mark-gt" class="headerlink" title="<mark>"></a><a href="https://github.com/markdown-it/markdown-it-mark">&lt;mark&gt;</a></h3><pre><code class="markdown">==Marked text==</code></pre><p>==Marked text==</p><h3 id="Footnotes"><a href="#Footnotes" class="headerlink" title="Footnotes"></a><a href="https://github.com/markdown-it/markdown-it-footnote">Footnotes</a></h3><pre><code class="markdown">Footnote 1 link[^first].Footnote 2 link[^second].Inline footnote^[Text of inline footnote] definition.Duplicated footnote reference[^second].[^first]: Footnote **can have markup**    and multiple paragraphs.[^second]: Footnote text.</code></pre><p>Footnote 1 link[^first].</p><p>Footnote 2 link[^second].</p><p>Inline footnote^[Text of inline footnote] definition.</p><p>Duplicated footnote reference[^second].</p><p>[^first]: Footnote <strong>can have markup</strong></p><pre><code>and multiple paragraphs.</code></pre><p>[^second]: Footnote text.</p><h3 id="Definition-lists"><a href="#Definition-lists" class="headerlink" title="Definition lists"></a><a href="https://github.com/markdown-it/markdown-it-deflist">Definition lists</a></h3><pre><code class="markdown">Term 1:   Definition 1with lazy continuation.</code></pre><dl><dt>Term 1</dt><dd>Definition 1<br>with lazy continuation.</dd></dl><pre><code class="markdown">Term 2 with *inline markup*:   Definition 2        { some code, part of Definition 2 }    Third paragraph of definition 2.</code></pre><dl><dt>Term 2 with <em>inline markup</em></dt><dd>Definition 2</dd></dl><pre><code>    { some code, part of Definition 2 }Third paragraph of definition 2.</code></pre><p><em>Compact style:</em></p><pre><code class="markdown">Term 1  ~ Definition 1Term 2  ~ Definition 2a  ~ Definition 2b</code></pre><p>Term 1<br>  ~ Definition 1</p><p>Term 2<br>  ~ Definition 2a<br>  ~ Definition 2b</p><h3 id="Abbreviations"><a href="#Abbreviations" class="headerlink" title="Abbreviations"></a><a href="https://github.com/markdown-it/markdown-it-abbr">Abbreviations</a></h3><pre><code class="markdown">This is HTML abbreviation example.It converts "HTML", but keep intact partial entries like "xxxHTMLyyy" and so on.*[HTML]: Hyper Text Markup Language</code></pre><p>This is HTML abbreviation example.</p><p>It converts â€œHTMLâ€, but keep intact partial entries like â€œxxxHTMLyyyâ€ and so on.</p><p>*[HTML]: Hyper Text Markup Language</p><h3 id="Custom-containers"><a href="#Custom-containers" class="headerlink" title="Custom containers"></a><a href="https://github.com/markdown-it/markdown-it-container">Custom containers</a></h3><p>::: warning<br><em>here be dragons</em><br>:::</p><h2 id="Hexo-Built-in-Tags"><a href="#Hexo-Built-in-Tags" class="headerlink" title="Hexo Built-in Tags"></a>Hexo Built-in Tags</h2><h3 id="Blockquote-with-author"><a href="#Blockquote-with-author" class="headerlink" title="Blockquote with author"></a>Blockquote with author</h3><pre><code class="swig">{% blockquote David Levithan, Wide Awake %}Do not just seek happiness for yourself. Seek happiness for all. Through kindness. Through mercy.{% endblockquote %}</code></pre><blockquote><p>Do not just seek happiness for yourself. Seek happiness for all. Through kindness. Through mercy.</p><footer><strong>David Levithan</strong><cite>Wide Awake</cite></footer></blockquote><h3 id="Blockquote-for-twitter"><a href="#Blockquote-for-twitter" class="headerlink" title="Blockquote for twitter"></a>Blockquote for twitter</h3><pre><code class="swig">{% blockquote @DevDocs https://twitter.com/devdocs/status/356095192085962752 %}NEW: DevDocs now comes with syntax highlighting. http://devdocs.io{% endblockquote %}</code></pre><blockquote><p>NEW: DevDocs now comes with syntax highlighting. <a href="http://devdocs.io/">http://devdocs.io</a></p><footer><strong>@DevDocs</strong><cite><a href="https://twitter.com/devdocs/status/356095192085962752">twitter.com/devdocs/status/356095192085962752</a></cite></footer></blockquote><h3 id="Blockquote-for-weblink"><a href="#Blockquote-for-weblink" class="headerlink" title="Blockquote for weblink"></a>Blockquote for weblink</h3><pre><code class="swig">{% blockquote Seth Godin http://sethgodin.typepad.com/seths_blog/2009/07/welcome-to-island-marketing.html Welcome to Island Marketing %}Every interaction is both precious and an opportunity to delight.{% endblockquote %}</code></pre><blockquote><p>Every interaction is both precious and an opportunity to delight.</p><footer><strong>Seth Godin</strong><cite><a href="http://sethgodin.typepad.com/seths_blog/2009/07/welcome-to-island-marketing.html">Welcome to Island Marketing</a></cite></footer></blockquote><h3 id="Pull-Quotes"><a href="#Pull-Quotes" class="headerlink" title="Pull Quotes"></a>Pull Quotes</h3><pre><code class="swig">{% pullquote %}content{% endpullquote %}</code></pre><blockquote class="pullquote"><p>content</p></blockquote><h3 id="jsFiddle"><a href="#jsFiddle" class="headerlink" title="jsFiddle"></a>jsFiddle</h3><pre><code class="swig">{% jsfiddle o2gxgz9r default light %}</code></pre><iframe scrolling="no" width="100%" height="300" src="https://jsfiddle.net/o2gxgz9r/embedded/js,resources,html,css,result/light" frameborder="0" loading="lazy" allowfullscreen=""></iframe><h3 id="Gist"><a href="#Gist" class="headerlink" title="Gist"></a>Gist</h3><pre><code class="swig">{% gist b6365e79be6052e7531e7ba6ea8caf23 'Sample gist' %}</code></pre><script src="//gist.github.com/b6365e79be6052e7531e7ba6ea8caf23.js?file=Sample gist"></script><h3 id="iFrame"><a href="#iFrame" class="headerlink" title="iFrame"></a>iFrame</h3><pre><code class="swig">{% iframe https://www.bing.com %}</code></pre><iframe src="https://www.bing.com/" width="100%" height="300" frameborder="0" loading="lazy" allowfullscreen=""></iframe><h3 id="Link-to-open-in-new-tab"><a href="#Link-to-open-in-new-tab" class="headerlink" title="Link to open in new tab"></a>Link to open in new tab</h3><pre><code class="swig">{% link Google https://www.google.com default Google %}</code></pre><a href="https://www.google.com/" title="default Google" target="">Google</a><h3 id="Youtube"><a href="#Youtube" class="headerlink" title="Youtube"></a>Youtube</h3><pre><code class="swig">{% youtube l_lblj8Cq0o %}</code></pre><div class="video-container"><iframe src="https://www.youtube.com/embed/l_lblj8Cq0o" frameborder="0" loading="lazy" allowfullscreen=""></iframe></div>]]></content>
      
      
      <categories>
          
          <category> notes </category>
          
      </categories>
      
      
        <tags>
            
            <tag> typography </tag>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2021/10/14/first-post/"/>
      <url>/2021/10/14/first-post/</url>
      
        <content type="html"><![CDATA[<p><img src="/images/helloworld.jpg" alt="$cover"></p>]]></content>
      
      
      <categories>
          
          <category> Genesis </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hello </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
